#
# Copyright IBM Corp. 2025
# SPDX-License-Identifier: Apache-2.0
#

#------------------------------------------------------------------------------
# Example terraform.tfvars file for AWS RDS MySQL with Guardium VA
# Rename to terraform.tfvars and update with your specific values
#------------------------------------------------------------------------------

#----------------------------------------
# General Configuration
#----------------------------------------
aws_region  = "us-west-2"                # AWS region where resources will be created
name_prefix = "mysql-va"                 # Prefix for all created resources
tags = {
  Purpose     = "guardium-va-config"
  Owner       = "your-email@example.com"
  Environment = "dev"
  Project     = "guardium-terraform"
}

#----------------------------------------
# MySQL Database Configuration
#----------------------------------------
# Required parameters
db_host     = "your-mysql-instance.region.rds.amazonaws.com"  # RDS MySQL endpoint
db_password = "YourStrongPasswordHere"                        # Admin user password

# Optional database settings
db_username = "admin"                    # Admin username for MySQL
db_port     = 3306                       # Default MySQL port (3306)

# Guardium VA user configuration
sqlguard_username = "sqlguard"           # Username for the Guardium VA user (default: sqlguard)
sqlguard_password = "StrongPasswordForVAUser"  # Password for the Guardium VA user

#----------------------------------------
# Network Configuration
#----------------------------------------
vpc_id = "vpc-xxxxxxxxxxxxxxxxx"         # VPC ID where the RDS instance is deployed

subnet_ids = [
  "subnet-xxxxxxxxxxxxxxxxx",            # Private subnet 1
  "subnet-xxxxxxxxxxxxxxxxx"             # Private subnet 2 (for high availability)
]

db_security_group_id = "sg-xxxxxxxxxxxxxxxxx"  # Security group ID of the RDS MySQL instance
                                                # Terraform will automatically add a rule to allow Lambda access

#------------------------------------------------------------------------------
# Guardium Data Protection (GDP) Connection Configuration
#------------------------------------------------------------------------------
gdp_server   = "your-guardium-server.example.com"  # Hostname or IP of Guardium server
gdp_port     = "8443"                              # Default Guardium API port
gdp_username = "admin"                             # Guardium admin username
gdp_password = "YourGuardiumPassword"              # Guardium admin password

# OAuth client configuration for Guardium API
client_id     = "client1"                          # OAuth client ID
client_secret = "YourClientSecret"                 # OAuth client secret

#------------------------------------------------------------------------------
# Guardium Data Source Registration Configuration
#------------------------------------------------------------------------------
datasource_name        = "rds-mysql-va"            # Name to identify this datasource in Guardium
datasource_description = "MySQL data source onboarded via Terraform"
application            = "Security Assessment"      # Application type
severity_level         = "MED"                      # Severity classification (LOW, NONE, MED, HIGH)

#------------------------------------------------------------------------------
# Vulnerability Assessment Schedule Configuration
#------------------------------------------------------------------------------
enable_vulnerability_assessment = true              # Set to false to disable VA
assessment_schedule             = "weekly"          # Options: daily, weekly, monthly
assessment_day                  = "Monday"          # Day of week for weekly assessments
assessment_time                 = "02:00"           # Time in 24-hour format (HH:MM)

#------------------------------------------------------------------------------
# Notification Configuration
#------------------------------------------------------------------------------
enable_notifications  = true                        # Set to false to disable notifications
notification_emails   = [
  "security-team@example.com",
  "dba-team@example.com"
]
notification_severity = "HIGH"                      # Minimum severity to trigger notifications (HIGH, MED, LOW, NONE)